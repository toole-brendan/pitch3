'use client';

import React from 'react';
import { motion } from 'framer-motion';
import Slide from '@/components/core/Slide';
import {
  Box,
  Typography,
  Grid,
  Paper,
  Button,
  Divider,
  Chip,
  useTheme,
  Card,
  CardContent
} from '@mui/material';
import EmailIcon from '@mui/icons-material/Email';
import CalendarMonthIcon from '@mui/icons-material/CalendarMonth';
import ArrowForwardIcon from '@mui/icons-material/ArrowForward';
import AutoGraphIcon from '@mui/icons-material/AutoGraph';
import MilitaryTechIcon from '@mui/icons-material/MilitaryTech';

// Motion components
const MotionBox = motion(Box);
const MotionPaper = motion(Paper);
const MotionCard = motion(Card);
const MotionTypography = motion(Typography);
const MotionButton = motion(Button);

// Animation variants
const containerVariants = {
  hidden: { opacity: 0 },
  visible: {
    opacity: 1,
    transition: {
      staggerChildren: 0.15
    }
  }
};

const itemVariants = {
  hidden: { opacity: 0, y: 20 },
  visible: {
    opacity: 1,
    y: 0,
    transition: { duration: 0.5, ease: "easeOut" }
  }
};

const buttonVariants = {
  hidden: { opacity: 0, scale: 0.9 },
  visible: {
    opacity: 1,
    scale: 1,
    transition: { duration: 0.5, delay: 0.6, ease: "easeOut" }
  },
  hover: {
    scale: 1.05,
    backgroundColor: "#1565C0",
    transition: { duration: 0.2 }
  }
};

const CallToAction: React.FC = () => {
  const theme = useTheme();
  
  return (
    <Slide title="Join Us in Building the Future">
      <MotionBox
        variants={containerVariants}
        initial="hidden"
        animate="visible"
        sx={{
          height: '100%',
          display: 'flex',
          flexDirection: 'column',
          justifyContent: 'center'
        }}
      >
        {/* Investment Opportunity */}
        <MotionPaper
          variants={itemVariants}
          sx={{
            p: 4,
            mb: 4,
            borderRadius: 2,
            border: `1px solid ${theme.palette.divider}`,
            boxShadow: theme.shadows[3],
            position: 'relative',
            overflow: 'hidden'
          }}
        >
          <MotionBox
            initial={{ opacity: 0 }}
            animate={{ opacity: 0.05 }}
            transition={{ delay: 0.8, duration: 1 }}
            sx={{
              position: 'absolute',
              top: -20,
              right: -20,
              opacity: 0.05,
              zIndex: 0
            }}
          >
            <AutoGraphIcon sx={{ fontSize: 280, color: theme.palette.primary.main }} />
          </MotionBox>
          
          <Grid container spacing={4} sx={{ position: 'relative', zIndex: 1 }}>
            <Grid item xs={12} md={6}>
              <MotionTypography
                variants={itemVariants}
                sx={{
                  fontSize: '2rem',
                  fontWeight: 700,
                  lineHeight: 1.2,
                  mb: 3,
                  fontFamily: "'IBM Plex Mono', monospace",
                  letterSpacing: '-0.5px'
                }}
              >
                $2.2M Seed Round
                <Box component="span" sx={{ 
                  color: theme.palette.primary.main,
                  display: 'block'
                }}>
                  Now Open_
                </Box>
              </MotionTypography>
              
              <MotionTypography
                variants={itemVariants}
                sx={{
                  fontSize: '1rem',
                  color: theme.palette.text.secondary,
                  mb: 3,
                  maxWidth: '500px'
                }}
              >
                HandReceipt is revolutionizing inventory and asset tracking for defense and commercial applications. Our patent-pending computer vision technology enables a dramatic reduction in manual work while enhancing accuracy and compliance.
              </MotionTypography>
              
              <MotionBox variants={itemVariants}>
                <Typography sx={{ 
                  fontWeight: 600,
                  mb: 2,
                  fontFamily: "'IBM Plex Mono', monospace",
                }}>
                  KEY INVESTMENT HIGHLIGHTS_
                </Typography>
                
                <Grid container spacing={2} sx={{ mb: 3 }}>
                  <Grid item xs={6}>
                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1.5 }}>
                      <Box sx={{
                        width: 8,
                        height: 8,
                        borderRadius: '50%',
                        bgcolor: theme.palette.primary.main,
                        mr: 1.5
                      }} />
                      <Typography variant="body2">
                        $175K ARR Year 1 Target
                      </Typography>
                    </Box>
                  </Grid>
                  
                  <Grid item xs={6}>
                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1.5 }}>
                      <Box sx={{
                        width: 8,
                        height: 8,
                        borderRadius: '50%',
                        bgcolor: theme.palette.secondary.main,
                        mr: 1.5
                      }} />
                      <Typography variant="body2">
                        Defense Tech Partnerships
                      </Typography>
                    </Box>
                  </Grid>
                  
                  <Grid item xs={6}>
                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1.5 }}>
                      <Box sx={{
                        width: 8,
                        height: 8,
                        borderRadius: '50%',
                        bgcolor: theme.palette.info.main,
                        mr: 1.5
                      }} />
                      <Typography variant="body2">
                        75-85% Gross Margins
                      </Typography>
                    </Box>
                  </Grid>
                  
                  <Grid item xs={6}>
                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1.5 }}>
                      <Box sx={{
                        width: 8,
                        height: 8,
                        borderRadius: '50%',
                        bgcolor: theme.palette.success.main,
                        mr: 1.5
                      }} />
                      <Typography variant="body2">
                        24+ Month Runway
                      </Typography>
                    </Box>
                  </Grid>
                </Grid>
                
                <Box sx={{ mt: 1 }}>
                  <MotionButton 
                    variants={buttonVariants}
                    whileHover="hover"
                    color="primary"
                    variant="contained"
                    size="large"
                    endIcon={<ArrowForwardIcon />}
                    sx={{ px: 4, py: 1.5, fontWeight: 600, borderRadius: 2 }}
                  >
                    Request Investor Deck
                  </MotionButton>
                </Box>
              </MotionBox>
            </Grid>
            
            <Grid item xs={12} md={6}>
              <MotionPaper
                variants={itemVariants}
                sx={{
                  p: 3,
                  bgcolor: theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.02)',
                  borderRadius: 2,
                  border: `1px solid ${theme.palette.divider}`
                }}
              >
                <Typography sx={{ 
                  fontWeight: 600,
                  mb: 2,
                  fontFamily: "'IBM Plex Mono', monospace",
                }}>
                  SEED ROUND DETAILS_
                </Typography>
                
                <Divider sx={{ mb: 2 }} />
                
                <Grid container spacing={2}>
                  <Grid item xs={6}>
                    <Typography variant="body2" sx={{ color: theme.palette.text.secondary, mb: 0.5 }}>
                      Target Raise
                    </Typography>
                    <Typography variant="h6" sx={{ fontWeight: 600 }}>
                      $2.2 Million
                    </Typography>
                  </Grid>
                  
                  <Grid item xs={6}>
                    <Typography variant="body2" sx={{ color: theme.palette.text.secondary, mb: 0.5 }}>
                      Instrument
                    </Typography>
                    <Typography variant="h6" sx={{ fontWeight: 600 }}>
                      SAFE
                    </Typography>
                  </Grid>
                  
                  <Grid item xs={6}>
                    <Typography variant="body2" sx={{ color: theme.palette.text.secondary, mb: 0.5 }}>
                      Valuation Cap
                    </Typography>
                    <Typography variant="h6" sx={{ fontWeight: 600 }}>
                      $10.5 Million
                    </Typography>
                  </Grid>
                  
                  <Grid item xs={6}>
                    <Typography variant="body2" sx={{ color: theme.palette.text.secondary, mb: 0.5 }}>
                      Min Investment
                    </Typography>
                    <Typography variant="h6" sx={{ fontWeight: 600 }}>
                      $100,000
                    </Typography>
                  </Grid>
                </Grid>
                
                <Divider sx={{ my: 2 }} />
                
                <Typography sx={{ 
                  fontWeight: 600,
                  mb: 2,
                  fontFamily: "'IBM Plex Mono', monospace",
                }}>
                  CURRENT INVESTORS_
                </Typography>
                
                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1, mb: 3 }}>
                  <Chip 
                    label="Techstars"
                    size="medium"
                    sx={{ 
                      fontWeight: 600,
                      bgcolor: theme.palette.mode === 'dark' ? 'rgba(144, 202, 249, 0.16)' : 'rgba(144, 202, 249, 0.24)',
                      color: theme.palette.primary.main
                    }}
                  />
                  <Chip 
                    label="Defense Innovation Fund"
                    size="medium"
                    sx={{ 
                      fontWeight: 600,
                      bgcolor: theme.palette.mode === 'dark' ? 'rgba(244, 143, 177, 0.16)' : 'rgba(244, 143, 177, 0.24)',
                      color: theme.palette.secondary.main
                    }}
                  />
                  <Chip 
                    label="Angel Syndicate"
                    size="medium"
                    sx={{ 
                      fontWeight: 600,
                      bgcolor: theme.palette.mode === 'dark' ? 'rgba(129, 199, 132, 0.16)' : 'rgba(129, 199, 132, 0.24)',
                      color: theme.palette.success.main
                    }}
                  />
                </Box>
                
                <Box sx={{ pt: 1 }}>
                  <Typography variant="body2" sx={{ color: theme.palette.text.secondary, mb: 1 }}>
                    Committed So Far
                  </Typography>
                  <Box sx={{ position: 'relative', mb: 1 }}>
                    <Box sx={{ 
                      height: 10, 
                      width: '100%', 
                      bgcolor: theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.12)' : 'rgba(0, 0, 0, 0.09)',
                      borderRadius: 5
                    }} />
                    <MotionBox
                      initial={{ width: 0 }}
                      animate={{ width: '35%' }}
                      transition={{ duration: 1.5, delay: 0.5 }}
                      sx={{ 
                        height: 10, 
                        bgcolor: theme.palette.primary.main,
                        borderRadius: 5,
                        position: 'absolute',
                        top: 0,
                        left: 0
                      }}
                    />
                  </Box>
                  <Typography variant="h6" sx={{ fontWeight: 700 }}>
                    $770K / $2.2M
                  </Typography>
                </Box>
              </MotionPaper>
            </Grid>
          </Grid>
        </MotionPaper>
        
        {/* Contact Information */}
        <Grid container spacing={3}>
          <Grid item xs={12} md={6}>
            <MotionCard
              variants={itemVariants}
              sx={{
                height: '100%',
                position: 'relative',
                overflow: 'hidden',
                borderRadius: 2,
                border: `1px solid ${theme.palette.divider}`,
                transition: 'transform 0.3s, box-shadow 0.3s',
                '&:hover': {
                  transform: 'translateY(-5px)',
                  boxShadow: theme.shadows[6]
                }
              }}
            >
              <MotionBox
                initial={{ opacity: 0 }}
                animate={{ opacity: 0.1 }}
                transition={{ delay: 1, duration: 1 }}
                sx={{
                  position: 'absolute',
                  top: -30,
                  right: -30,
                  zIndex: 0
                }}
              >
                <MilitaryTechIcon sx={{ fontSize: 200, color: theme.palette.primary.main }} />
              </MotionBox>
              
              <CardContent sx={{ position: 'relative', zIndex: 1, p: 3 }}>
                <Typography sx={{ 
                  fontWeight: 600,
                  mb: 2,
                  fontFamily: "'IBM Plex Mono', monospace",
                }}>
                  NEXT STEPS_
                </Typography>
                
                <Typography variant="body1" sx={{ mb: 2, color: theme.palette.text.secondary }}>
                  Interested in learning more about HandReceipt's growth trajectory?
                </Typography>
                
                <Box sx={{ mb: 3 }}>
                  <Typography sx={{ fontWeight: 600, mb: 1.5 }}>
                    We're currently offering:
                  </Typography>
                  
                  <Box sx={{ pl: 1, mb: 1 }}>
                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1.5 }}>
                      <Box sx={{
                        width: 6,
                        height: 6,
                        borderRadius: '50%',
                        bgcolor: theme.palette.primary.main,
                        mr: 1.5
                      }} />
                      <Typography variant="body2">
                        In-depth investor presentation
                      </Typography>
                    </Box>
                    
                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1.5 }}>
                      <Box sx={{
                        width: 6,
                        height: 6,
                        borderRadius: '50%',
                        bgcolor: theme.palette.primary.main,
                        mr: 1.5
                      }} />
                      <Typography variant="body2">
                        Product demonstrations
                      </Typography>
                    </Box>
                    
                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1.5 }}>
                      <Box sx={{
                        width: 6,
                        height: 6,
                        borderRadius: '50%',
                        bgcolor: theme.palette.primary.main,
                        mr: 1.5
                      }} />
                      <Typography variant="body2">
                        Access to technical validation data
                      </Typography>
                    </Box>
                    
                    <Box sx={{ display: 'flex', alignItems: 'center' }}>
                      <Box sx={{
                        width: 6,
                        height: 6,
                        borderRadius: '50%',
                        bgcolor: theme.palette.primary.main,
                        mr: 1.5
                      }} />
                      <Typography variant="body2">
                        Meetings with key technical team members
                      </Typography>
                    </Box>
                  </Box>
                </Box>
                
                <MotionButton 
                  variants={buttonVariants}
                  whileHover="hover"
                  color="primary"
                  variant="outlined"
                  fullWidth
                  size="large"
                  endIcon={<CalendarMonthIcon />}
                  sx={{ mb: 1.5, fontWeight: 600, borderRadius: 2, py: 1.5 }}
                >
                  Schedule an Investor Call
                </MotionButton>
              </CardContent>
            </MotionCard>
          </Grid>
          
          <Grid item xs={12} md={6}>
            <MotionCard
              variants={itemVariants}
              sx={{
                height: '100%',
                position: 'relative',
                overflow: 'hidden',
                borderRadius: 2,
                border: `1px solid ${theme.palette.divider}`,
                transition: 'transform 0.3s, box-shadow 0.3s',
                '&:hover': {
                  transform: 'translateY(-5px)',
                  boxShadow: theme.shadows[6]
                }
              }}
            >
              <CardContent sx={{ p: 3 }}>
                <Typography sx={{ 
                  fontWeight: 600,
                  mb: 2,
                  fontFamily: "'IBM Plex Mono', monospace",
                }}>
                  CONTACT US_
                </Typography>
                
                <Box sx={{ mb: 4 }}>
                  <Typography variant="body1" color="text.secondary" sx={{ mb: 3 }}>
                    Ready to join us on our mission to revolutionize inventory management for defense and commercial industries?
                  </Typography>
                  
                  <Grid container spacing={3} sx={{ mb: 2 }}>
                    <Grid item xs={12}>
                      <Box sx={{ 
                        p: 2, 
                        bgcolor: theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.02)',
                        borderRadius: 1,
                        border: `1px solid ${theme.palette.divider}`
                      }}>
                        <Typography variant="body2" color="text.secondary">
                          Michael Adams, CEO
                        </Typography>
                        <Typography variant="body1" sx={{ fontWeight: 600 }}>
                          michael@handreceipt.com
                        </Typography>
                      </Box>
                    </Grid>
                    
                    <Grid item xs={12}>
                      <Box sx={{ 
                        p: 2, 
                        bgcolor: theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.02)',
                        borderRadius: 1,
                        border: `1px solid ${theme.palette.divider}`
                      }}>
                        <Typography variant="body2" color="text.secondary">
                          Investor Relations
                        </Typography>
                        <Typography variant="body1" sx={{ fontWeight: 600 }}>
                          invest@handreceipt.com
                        </Typography>
                      </Box>
                    </Grid>
                  </Grid>
                </Box>
                
                <MotionButton 
                  variants={buttonVariants}
                  whileHover="hover"
                  color="primary"
                  variant="contained"
                  fullWidth
                  size="large"
                  endIcon={<EmailIcon />}
                  sx={{ fontWeight: 600, borderRadius: 2, py: 1.5 }}
                >
                  Email Us Now
                </MotionButton>
              </CardContent>
            </MotionCard>
          </Grid>
        </Grid>
      </MotionBox>
    </Slide>
  );
};

export default CallToAction;
