'use client';

import React from 'react';
import { motion } from 'framer-motion';
import Slide from '@/components/core/Slide';
import {
  Box,
  Typography,
  Paper,
  Grid,
  Divider,
  Stack,
  useTheme,
  Table,
  TableBody,
  TableCell,
  TableContainer,
  TableHead,
  TableRow,
  Card,
  CardContent
} from '@mui/material';
import AttachMoneyIcon from '@mui/icons-material/AttachMoney';
import TrendingUpIcon from '@mui/icons-material/TrendingUp';
import BarChartIcon from '@mui/icons-material/BarChart';
import ShowChartIcon from '@mui/icons-material/ShowChart';
import MonetizationOnIcon from '@mui/icons-material/MonetizationOn';

// Motion components
const MotionBox = motion(Box);
const MotionPaper = motion(Paper);
const MotionCard = motion(Card);
const MotionDiv = motion.div;

// Animation variants
const containerVariants = {
  hidden: { opacity: 0 },
  visible: {
    opacity: 1,
    transition: {
      staggerChildren: 0.1
    }
  }
};

const itemVariants = {
  hidden: { opacity: 0, y: 20 },
  visible: {
    opacity: 1,
    y: 0,
    transition: {
      duration: 0.5,
      ease: "easeOut"
    }
  }
};

const chartVariants = {
  hidden: { opacity: 0, scaleY: 0 },
  visible: (i: number) => ({
    opacity: 1,
    scaleY: 1,
    transition: {
      delay: i * 0.1,
      duration: 0.5,
      ease: "easeOut"
    }
  })
};

// Financial numbers
const years = ['Year 1', 'Year 2', 'Year 3'];
const revenue = [180, 750, 2500];
const cogs = [90, 300, 875];
const opex = [400, 550, 820];
const ebitda = [-310, -100, 805];

// Funding allocation
const allocationData = {
  engineering: 40,
  operations: 20,
  team: 30, 
  marketing: 10
};

// Revenue mix data for the stacked bar chart
interface RevenueMixItem {
  category: string;
  year1: number;
  year2: number;
  year3: number;
  year4: number;
  year5: number;
  [key: string]: string | number; // Index signature for dynamic access
}

const revenueMix: RevenueMixItem[] = [
  { category: 'Defense', year1: 90, year2: 75, year3: 60, year4: 55, year5: 50 },
  { category: 'Commercial', year1: 10, year2: 25, year3: 40, year4: 45, year5: 50 }
];

// Type definitions
interface AllocationSegmentProps {
  percent: number;
  type: 'engineering' | 'operations' | 'team' | 'marketing';
}

interface AllocationItemProps {
  type: 'engineering' | 'operations' | 'team' | 'marketing';
}

// Helper function to get the color for each allocation type
const getAllocationColor = (type: string, theme: any) => {
  const colors = {
    engineering: theme.customColors?.militaryAccent || theme.palette.primary.main,
    operations: theme.customColors?.commercialAccent || theme.palette.secondary.main,
    team: theme.palette.info.main,
    marketing: theme.palette.success.main
  };
  
  return colors[type as keyof typeof colors] || theme.palette.grey[500];
};

// Allocation segment component
const AllocationSegment = ({ percent, type }: AllocationSegmentProps) => {
  const theme = useTheme();
  const color = getAllocationColor(type, theme);
  
  return (
    <Box sx={{
      height: '100%',
      width: `${percent}%`,
      bgcolor: color,
      '&:first-of-type': {
        borderTopLeftRadius: '4px',
        borderBottomLeftRadius: '4px'
      },
      '&:last-of-type': {
        borderTopRightRadius: '4px',
        borderBottomRightRadius: '4px'
      }
    }} />
  );
};

// Allocation item component
const AllocationItem = ({ type }: AllocationItemProps) => {
  const theme = useTheme();
  const color = getAllocationColor(type, theme);
  const percent = allocationData[type];
  
  const typeLabels = {
    engineering: 'Engineering & Development',
    operations: 'Operations & Infrastructure',
    team: 'Team Expansion',
    marketing: 'Marketing & Sales'
  };
  
  return (
    <Box sx={{
      display: 'flex',
      gap: 2,
      alignItems: 'center',
      mb: 1.5
    }}>
      <Box sx={{
        width: '1rem',
        height: '1rem',
        borderRadius: '50%',
        bgcolor: color,
        flexShrink: 0
      }} />
      
      <Box sx={{
        display: 'flex',
        justifyContent: 'space-between',
        alignItems: 'center',
        width: '100%'
      }}>
        <Typography sx={{
          fontSize: '0.9rem',
          fontFamily: "'IBM Plex Mono', monospace",
          color: theme.palette.text.primary
        }}>
          {typeLabels[type]}
        </Typography>
        
        <Typography sx={{
          fontSize: '1.1rem',
          fontWeight: 600,
          fontFamily: "'IBM Plex Mono', monospace",
          color: color
        }}>
          {percent}%
        </Typography>
      </Box>
    </Box>
  );
};

const FinancialProjections: React.FC = () => {
  const theme = useTheme();
  
  // Financial data
  const financialData = [
    { year: 'Year 1', 
      revenue: '175K', 
      customers: '2-3', 
      expenses: '1.2M', 
      cashflow: '-1.0M', 
      revenueGrowth: '0%' },
    { year: 'Year 2', 
      revenue: '1.2M', 
      customers: '5-8', 
      expenses: '1.9M', 
      cashflow: '-700K', 
      revenueGrowth: '585%' },
    { year: 'Year 3', 
      revenue: '4.2M', 
      customers: '15-20', 
      expenses: '3.2M', 
      cashflow: '1.0M', 
      revenueGrowth: '250%' },
    { year: 'Year 4', 
      revenue: '9.6M', 
      customers: '28-35', 
      expenses: '6.5M', 
      cashflow: '3.1M', 
      revenueGrowth: '128%' },
    { year: 'Year 5', 
      revenue: '18.5M', 
      customers: '45-55', 
      expenses: '12.0M', 
      cashflow: '6.5M', 
      revenueGrowth: '92%' }
  ];

  // Calculate max value for chart scaling
  const maxValue = Math.max(...revenue, ...cogs, ...opex, Math.abs(Math.min(...ebitda)));
  const chartHeight = 300;
  
  // Scale function for chart
  const getBarHeight = (value: number) => {
    return Math.abs(value) / maxValue * (chartHeight - 40);
  };
  
  // Chart max height for revenue visualization
  const maxChartHeight = 180;
  
  return (
    <Slide title="Financial Projections">
      <MotionBox
        variants={containerVariants}
        initial="hidden"
        animate="visible"
        sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}
      >
        {/* Financial Overview */}
        <MotionPaper
          variants={itemVariants}
          sx={{ 
            p: 3,
            mb: 4,
            borderRadius: 1,
            border: `1px solid ${theme.palette.divider}`,
            boxShadow: theme.shadows[2]
          }}
        >
          <Typography variant="h3" sx={{
            fontSize: '1.25rem',
            fontWeight: 600,
            color: theme.palette.text.primary,
            mb: 1,
            fontFamily: "'IBM Plex Mono', monospace",
            textTransform: 'uppercase',
            letterSpacing: '1px'
          }}>
            FIVE-YEAR PROJECTIONS_
          </Typography>
          
          <Typography sx={{
            fontSize: '0.875rem',
            color: theme.palette.text.secondary,
            mb: 3,
            fontFamily: "'IBM Plex Mono', monospace"
          }}>
            Financial forecast with conservative growth assumptions
          </Typography>
          
          <TableContainer component={Paper} elevation={0} sx={{ border: `1px solid ${theme.palette.divider}` }}>
            <Table>
              <TableHead>
                <TableRow sx={{ 
                  bgcolor: 'rgba(0, 0, 0, 0.03)',
                  '& th': { 
                    fontFamily: "'IBM Plex Mono', monospace",
                    fontWeight: 600,
                    fontSize: '0.8rem',
                    color: theme.palette.text.secondary
                  }
                }}>
                  <TableCell></TableCell>
                  {financialData.map((data, index) => (
                    <TableCell key={index} align="center">{data.year}</TableCell>
                  ))}
                </TableRow>
              </TableHead>
              <TableBody>
                {/* Revenue Row */}
                <TableRow
                  sx={{
                    '&:hover': { bgcolor: 'rgba(0, 0, 0, 0.03)' },
                    '& td': { py: 1.5 }
                  }}
                >
                  <TableCell sx={{ 
                    fontFamily: "'IBM Plex Mono', monospace",
                    fontWeight: 600,
                    fontSize: '0.8rem',
                    color: theme.palette.text.secondary,
                    display: 'flex',
                    alignItems: 'center'
                  }}>
                    <AttachMoneyIcon fontSize="small" color="primary" sx={{ mr: 1 }} />
                    REVENUE
                  </TableCell>
                  {financialData.map((data, index) => (
                    <TableCell key={index} align="center">
                      <Typography variant="body1" sx={{ fontWeight: 700, color: theme.palette.primary.main }}>
                        ${data.revenue}
                      </Typography>
                    </TableCell>
                  ))}
                </TableRow>
                
                {/* Customers Row */}
                <TableRow
                  sx={{
                    '&:hover': { bgcolor: 'rgba(0, 0, 0, 0.03)' },
                    '& td': { py: 1.5 }
                  }}
                >
                  <TableCell sx={{ 
                    fontFamily: "'IBM Plex Mono', monospace",
                    fontWeight: 600,
                    fontSize: '0.8rem',
                    color: theme.palette.text.secondary,
                    display: 'flex',
                    alignItems: 'center'
                  }}>
                    <BarChartIcon fontSize="small" color="secondary" sx={{ mr: 1 }} />
                    CUSTOMERS
                  </TableCell>
                  {financialData.map((data, index) => (
                    <TableCell key={index} align="center">
                      <Typography variant="body1" sx={{ fontWeight: 600 }}>
                        {data.customers}
                      </Typography>
                    </TableCell>
                  ))}
                </TableRow>
                
                {/* Expenses Row */}
                <TableRow
                  sx={{
                    '&:hover': { bgcolor: 'rgba(0, 0, 0, 0.03)' },
                    '& td': { py: 1.5 }
                  }}
                >
                  <TableCell sx={{ 
                    fontFamily: "'IBM Plex Mono', monospace",
                    fontWeight: 600,
                    fontSize: '0.8rem',
                    color: theme.palette.text.secondary,
                    display: 'flex',
                    alignItems: 'center'
                  }}>
                    <MonetizationOnIcon fontSize="small" sx={{ color: theme.palette.error.main, mr: 1 }} />
                    EXPENSES
                  </TableCell>
                  {financialData.map((data, index) => (
                    <TableCell key={index} align="center">
                      <Typography variant="body1" sx={{ fontWeight: 600, color: theme.palette.error.main }}>
                        ${data.expenses}
                      </Typography>
                    </TableCell>
                  ))}
                </TableRow>
                
                {/* Net Cash Flow Row */}
                <TableRow
                  sx={{
                    '&:hover': { bgcolor: 'rgba(0, 0, 0, 0.03)' },
                    '& td': { py: 1.5 }
                  }}
                >
                  <TableCell sx={{ 
                    fontFamily: "'IBM Plex Mono', monospace",
                    fontWeight: 600,
                    fontSize: '0.8rem',
                    color: theme.palette.text.secondary,
                    display: 'flex',
                    alignItems: 'center'
                  }}>
                    <ShowChartIcon fontSize="small" sx={{ color: theme.palette.info.main, mr: 1 }} />
                    NET CASH FLOW
                  </TableCell>
                  {financialData.map((data, index) => (
                    <TableCell key={index} align="center">
                      <Typography 
                        variant="body1" 
                        sx={{ 
                          fontWeight: 700, 
                          color: data.cashflow.includes('-') ? theme.palette.error.main : theme.palette.success.main 
                        }}
                      >
                        ${data.cashflow}
                      </Typography>
                    </TableCell>
                  ))}
                </TableRow>
                
                {/* Revenue Growth Row */}
                <TableRow
                  sx={{
                    '&:hover': { bgcolor: 'rgba(0, 0, 0, 0.03)' },
                    '& td': { py: 1.5 }
                  }}
                >
                  <TableCell sx={{ 
                    fontFamily: "'IBM Plex Mono', monospace",
                    fontWeight: 600,
                    fontSize: '0.8rem',
                    color: theme.palette.text.secondary,
                    display: 'flex',
                    alignItems: 'center'
                  }}>
                    <TrendingUpIcon fontSize="small" sx={{ color: theme.palette.success.main, mr: 1 }} />
                    REVENUE GROWTH
                  </TableCell>
                  {financialData.map((data, index) => (
                    <TableCell key={index} align="center">
                      <Typography 
                        variant="body1" 
                        sx={{ 
                          fontWeight: 700, 
                          color: theme.palette.success.main 
                        }}
                      >
                        {data.revenueGrowth}
                      </Typography>
                    </TableCell>
                  ))}
                </TableRow>
              </TableBody>
            </Table>
          </TableContainer>
        </MotionPaper>
        
        {/* Key Metrics and Revenue Mix */}
        <Grid container spacing={4}>
          {/* Key Metrics */}
          <Grid item xs={12} md={6}>
            <MotionPaper
              variants={itemVariants}
              sx={{ 
                p: 3,
                height: '100%',
                borderRadius: 1,
                border: `1px solid ${theme.palette.divider}`,
                boxShadow: theme.shadows[2]
              }}
            >
              <Typography variant="h3" sx={{
                fontSize: '1.25rem',
                fontWeight: 600,
                color: theme.palette.text.primary,
                mb: 1,
                fontFamily: "'IBM Plex Mono', monospace",
                textTransform: 'uppercase',
                letterSpacing: '1px'
              }}>
                KEY FINANCIAL METRICS_
              </Typography>
              
              <Typography sx={{
                fontSize: '0.875rem',
                color: theme.palette.text.secondary,
                mb: 3,
                fontFamily: "'IBM Plex Mono', monospace"
              }}>
                Target metrics and efficiency ratios
              </Typography>
              
              <Grid container spacing={2}>
                <Grid item xs={6}>
                  <MotionCard
                    variants={itemVariants}
                    sx={{ 
                      height: '100%',
                      borderLeft: `4px solid ${theme.palette.primary.main}`,
                      transition: 'transform 0.2s',
                      '&:hover': {
                        transform: 'translateY(-4px)',
                        boxShadow: theme.shadows[4]
                      }
                    }}
                  >
                    <CardContent>
                      <Typography variant="subtitle2" sx={{ 
                        fontFamily: "'IBM Plex Mono', monospace",
                        color: theme.palette.text.secondary,
                        mb: 1
                      }}>
                        GROSS MARGIN
                      </Typography>
                      <Typography variant="h4" sx={{ fontWeight: 700, mb: 1 }}>
                        75-85%
                      </Typography>
                      <Typography variant="body2" color="text.secondary">
                        Target for recurring revenue
                      </Typography>
                    </CardContent>
                  </MotionCard>
                </Grid>
                
                <Grid item xs={6}>
                  <MotionCard
                    variants={itemVariants}
                    sx={{ 
                      height: '100%',
                      borderLeft: `4px solid ${theme.palette.secondary.main}`,
                      transition: 'transform 0.2s',
                      '&:hover': {
                        transform: 'translateY(-4px)',
                        boxShadow: theme.shadows[4]
                      }
                    }}
                  >
                    <CardContent>
                      <Typography variant="subtitle2" sx={{ 
                        fontFamily: "'IBM Plex Mono', monospace",
                        color: theme.palette.text.secondary,
                        mb: 1
                      }}>
                        PAYBACK PERIOD
                      </Typography>
                      <Typography variant="h4" sx={{ fontWeight: 700, mb: 1 }}>
                        18-24 mo
                      </Typography>
                      <Typography variant="body2" color="text.secondary">
                        For customer acquisition cost
                      </Typography>
                    </CardContent>
                  </MotionCard>
                </Grid>
                
                <Grid item xs={6}>
                  <MotionCard
                    variants={itemVariants}
                    sx={{ 
                      height: '100%',
                      borderLeft: `4px solid ${theme.palette.info.main}`,
                      transition: 'transform 0.2s',
                      '&:hover': {
                        transform: 'translateY(-4px)',
                        boxShadow: theme.shadows[4]
                      }
                    }}
                  >
                    <CardContent>
                      <Typography variant="subtitle2" sx={{ 
                        fontFamily: "'IBM Plex Mono', monospace",
                        color: theme.palette.text.secondary,
                        mb: 1
                      }}>
                        BURN RATE
                      </Typography>
                      <Typography variant="h4" sx={{ fontWeight: 700, mb: 1 }}>
                        $95-110K
                      </Typography>
                      <Typography variant="body2" color="text.secondary">
                        Monthly in first 18 months
                      </Typography>
                    </CardContent>
                  </MotionCard>
                </Grid>
                
                <Grid item xs={6}>
                  <MotionCard
                    variants={itemVariants}
                    sx={{ 
                      height: '100%',
                      borderLeft: `4px solid ${theme.palette.success.main}`,
                      transition: 'transform 0.2s',
                      '&:hover': {
                        transform: 'translateY(-4px)',
                        boxShadow: theme.shadows[4]
                      }
                    }}
                  >
                    <CardContent>
                      <Typography variant="subtitle2" sx={{ 
                        fontFamily: "'IBM Plex Mono', monospace",
                        color: theme.palette.text.secondary,
                        mb: 1
                      }}>
                        RUNWAY
                      </Typography>
                      <Typography variant="h4" sx={{ fontWeight: 700, mb: 1 }}>
                        24+ mo
                      </Typography>
                      <Typography variant="body2" color="text.secondary">
                        After seed round funding
                      </Typography>
                    </CardContent>
                  </MotionCard>
                </Grid>
              </Grid>
            </MotionPaper>
          </Grid>
          
          {/* Revenue Mix */}
          <Grid item xs={12} md={6}>
            <MotionPaper
              variants={itemVariants}
              sx={{ 
                p: 3,
                height: '100%',
                borderRadius: 1,
                border: `1px solid ${theme.palette.divider}`,
                boxShadow: theme.shadows[2]
              }}
            >
              <Typography variant="h3" sx={{
                fontSize: '1.25rem',
                fontWeight: 600,
                color: theme.palette.text.primary,
                mb: 1,
                fontFamily: "'IBM Plex Mono', monospace",
                textTransform: 'uppercase',
                letterSpacing: '1px'
              }}>
                REVENUE MIX_
              </Typography>
              
              <Typography sx={{
                fontSize: '0.875rem',
                color: theme.palette.text.secondary,
                mb: 3,
                fontFamily: "'IBM Plex Mono', monospace"
              }}>
                Balanced market approach with diversification over time
              </Typography>
              
              {/* Revenue Mix Chart */}
              <Box sx={{ height: maxChartHeight + 40, mb: 2 }}>
                <Grid container spacing={1} alignItems="flex-end" sx={{ height: maxChartHeight }}>
                  {financialData.map((data, columnIndex) => (
                    <Grid item xs key={columnIndex} sx={{ height: '100%', display: 'flex', flexDirection: 'column', justifyContent: 'flex-end' }}>
                      {/* Defense segment (bottom segment) */}
                      <MotionBox
                        custom={columnIndex}
                        variants={chartVariants}
                        sx={{
                          width: '100%',
                          height: `${(Number(revenueMix[0][`year${columnIndex + 1}`]) / 100) * maxChartHeight}px`,
                          backgroundColor: theme.palette.primary.main,
                          borderTopLeftRadius: 4,
                          borderTopRightRadius: 4,
                          display: 'flex',
                          alignItems: 'center',
                          justifyContent: 'center',
                          position: 'relative',
                          transformOrigin: 'bottom',
                          mb: 0.2
                        }}
                      >
                        <Typography variant="body2" sx={{ 
                          color: 'white', 
                          fontWeight: 600, 
                          fontSize: '0.75rem',
                          position: 'absolute',
                          top: '50%',
                          left: '50%',
                          transform: 'translate(-50%, -50%)',
                          textAlign: 'center'
                        }}>
                          {Number(revenueMix[0][`year${columnIndex + 1}`])}%
                        </Typography>
                      </MotionBox>
                      
                      {/* Commercial segment (top segment) */}
                      <MotionBox
                        custom={columnIndex + 5} // Offset to create delay
                        variants={chartVariants}
                        sx={{
                          width: '100%',
                          height: `${(Number(revenueMix[1][`year${columnIndex + 1}`]) / 100) * maxChartHeight}px`,
                          backgroundColor: theme.palette.secondary.main,
                          borderTopLeftRadius: 4,
                          borderTopRightRadius: 4,
                          display: 'flex',
                          alignItems: 'center',
                          justifyContent: 'center',
                          position: 'relative',
                          transformOrigin: 'bottom'
                        }}
                      >
                        <Typography variant="body2" sx={{ 
                          color: 'white', 
                          fontWeight: 600, 
                          fontSize: '0.75rem',
                          position: 'absolute',
                          top: '50%',
                          left: '50%',
                          transform: 'translate(-50%, -50%)',
                          textAlign: 'center'
                        }}>
                          {Number(revenueMix[1][`year${columnIndex + 1}`])}%
                        </Typography>
                      </MotionBox>
                    </Grid>
                  ))}
                </Grid>
                
                {/* X-axis labels */}
                <Grid container spacing={1} alignItems="center" sx={{ mt: 1 }}>
                  {financialData.map((data, index) => (
                    <Grid item xs key={`label-${index}`} sx={{ textAlign: 'center' }}>
                      <Typography variant="caption" sx={{ fontFamily: "'IBM Plex Mono', monospace" }}>
                        {data.year}
                      </Typography>
                    </Grid>
                  ))}
                </Grid>
              </Box>
              
              {/* Legend */}
              <Box sx={{ display: 'flex', justifyContent: 'center', gap: 4, mt: 2 }}>
                <Box sx={{ display: 'flex', alignItems: 'center' }}>
                  <Box sx={{ width: 16, height: 16, bgcolor: theme.palette.primary.main, mr: 1, borderRadius: 1 }} />
                  <Typography variant="caption" sx={{ fontFamily: "'IBM Plex Mono', monospace" }}>
                    Defense
                  </Typography>
                </Box>
                <Box sx={{ display: 'flex', alignItems: 'center' }}>
                  <Box sx={{ width: 16, height: 16, bgcolor: theme.palette.secondary.main, mr: 1, borderRadius: 1 }} />
                  <Typography variant="caption" sx={{ fontFamily: "'IBM Plex Mono', monospace" }}>
                    Commercial
                  </Typography>
                </Box>
              </Box>
            </MotionPaper>
          </Grid>
        </Grid>
        
        {/* Use of Funds */}
        <MotionPaper
          variants={itemVariants}
          sx={{ 
            p: 3,
            mt: 4,
            borderRadius: 1,
            border: `1px solid ${theme.palette.divider}`,
            boxShadow: theme.shadows[2]
          }}
        >
          <Typography variant="h3" sx={{
            fontSize: '1.25rem',
            fontWeight: 600,
            color: theme.palette.text.primary,
            mb: 1,
            fontFamily: "'IBM Plex Mono', monospace",
            textTransform: 'uppercase',
            letterSpacing: '1px'
          }}>
            USE OF FUNDS_
          </Typography>
          
          <Typography sx={{
            fontSize: '0.875rem',
            color: theme.palette.text.secondary,
            mb: 3,
            fontFamily: "'IBM Plex Mono', monospace"
          }}>
            Allocation of $2.2M seed funding round
          </Typography>
          
          <Grid container spacing={3}>
            <Grid item xs={12} md={8}>
              {/* Horizontal bar chart for use of funds */}
              <Box>
                {/* Engineering & Product */}
                <Box sx={{ mb: 2 }}>
                  <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 0.5 }}>
                    <Typography variant="body2" sx={{ fontWeight: 600 }}>
                      Engineering & Product
                    </Typography>
                    <Typography variant="body2" sx={{ fontWeight: 700 }}>
                      55% ($1.21M)
                    </Typography>
                  </Box>
                  <Box sx={{ width: '100%', height: '24px', bgcolor: 'rgba(0,0,0,0.05)', borderRadius: 1, overflow: 'hidden' }}>
                    <MotionBox
                      initial={{ width: 0 }}
                      animate={{ width: '55%' }}
                      transition={{ duration: 1, delay: 0.1 }}
                      sx={{ height: '100%', bgcolor: theme.palette.primary.main, borderRadius: 1 }}
                    />
                  </Box>
                </Box>
                
                {/* Sales & Marketing */}
                <Box sx={{ mb: 2 }}>
                  <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 0.5 }}>
                    <Typography variant="body2" sx={{ fontWeight: 600 }}>
                      Sales & Marketing
                    </Typography>
                    <Typography variant="body2" sx={{ fontWeight: 700 }}>
                      25% ($550K)
                    </Typography>
                  </Box>
                  <Box sx={{ width: '100%', height: '24px', bgcolor: 'rgba(0,0,0,0.05)', borderRadius: 1, overflow: 'hidden' }}>
                    <MotionBox
                      initial={{ width: 0 }}
                      animate={{ width: '25%' }}
                      transition={{ duration: 1, delay: 0.2 }}
                      sx={{ height: '100%', bgcolor: theme.palette.secondary.main, borderRadius: 1 }}
                    />
                  </Box>
                </Box>
                
                {/* Operations */}
                <Box sx={{ mb: 2 }}>
                  <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 0.5 }}>
                    <Typography variant="body2" sx={{ fontWeight: 600 }}>
                      Operations
                    </Typography>
                    <Typography variant="body2" sx={{ fontWeight: 700 }}>
                      15% ($330K)
                    </Typography>
                  </Box>
                  <Box sx={{ width: '100%', height: '24px', bgcolor: 'rgba(0,0,0,0.05)', borderRadius: 1, overflow: 'hidden' }}>
                    <MotionBox
                      initial={{ width: 0 }}
                      animate={{ width: '15%' }}
                      transition={{ duration: 1, delay: 0.3 }}
                      sx={{ height: '100%', bgcolor: theme.palette.info.main, borderRadius: 1 }}
                    />
                  </Box>
                </Box>
                
                {/* Legal & Compliance */}
                <Box>
                  <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 0.5 }}>
                    <Typography variant="body2" sx={{ fontWeight: 600 }}>
                      Legal & Compliance
                    </Typography>
                    <Typography variant="body2" sx={{ fontWeight: 700 }}>
                      5% ($110K)
                    </Typography>
                  </Box>
                  <Box sx={{ width: '100%', height: '24px', bgcolor: 'rgba(0,0,0,0.05)', borderRadius: 1, overflow: 'hidden' }}>
                    <MotionBox
                      initial={{ width: 0 }}
                      animate={{ width: '5%' }}
                      transition={{ duration: 1, delay: 0.4 }}
                      sx={{ height: '100%', bgcolor: theme.palette.warning.main, borderRadius: 1 }}
                    />
                  </Box>
                </Box>
              </Box>
            </Grid>
            
            <Grid item xs={12} md={4}>
              <Box sx={{ height: '100%', display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>
                <Typography variant="h6" sx={{ 
                  mb: 2, 
                  fontWeight: 600,
                  fontFamily: "'IBM Plex Mono', monospace" 
                }}>
                  KEY INVESTMENT PRIORITIES
                </Typography>
                
                <Divider sx={{ mb: 2 }} />
                
                <Box sx={{ pl: 2 }}>
                  <Typography variant="body2" sx={{ mb: 1, display: 'flex', alignItems: 'center' }}>
                    <Box component="span" sx={{ 
                      width: 8, 
                      height: 8, 
                      borderRadius: '50%', 
                      bgcolor: theme.palette.primary.main, 
                      display: 'inline-block',
                      mr: 1
                    }} />
                    Core engineering team growth
                  </Typography>
                  
                  <Typography variant="body2" sx={{ mb: 1, display: 'flex', alignItems: 'center' }}>
                    <Box component="span" sx={{ 
                      width: 8, 
                      height: 8, 
                      borderRadius: '50%', 
                      bgcolor: theme.palette.secondary.main, 
                      display: 'inline-block',
                      mr: 1
                    }} />
                    Defense sector sales expertise
                  </Typography>
                  
                  <Typography variant="body2" sx={{ mb: 1, display: 'flex', alignItems: 'center' }}>
                    <Box component="span" sx={{ 
                      width: 8, 
                      height: 8, 
                      borderRadius: '50%', 
                      bgcolor: theme.palette.info.main, 
                      display: 'inline-block',
                      mr: 1
                    }} />
                    Deployments & implementation resources
                  </Typography>
                  
                  <Typography variant="body2" sx={{ display: 'flex', alignItems: 'center' }}>
                    <Box component="span" sx={{ 
                      width: 8, 
                      height: 8, 
                      borderRadius: '50%', 
                      bgcolor: theme.palette.warning.main, 
                      display: 'inline-block',
                      mr: 1
                    }} />
                    Security compliance certifications
                  </Typography>
                </Box>
              </Box>
            </Grid>
          </Grid>
        </MotionPaper>
      </MotionBox>
    </Slide>
  );
};

export default FinancialProjections;
