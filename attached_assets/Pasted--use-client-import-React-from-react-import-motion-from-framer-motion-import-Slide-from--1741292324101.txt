'use client';

import React from 'react';
import { motion } from 'framer-motion';
import Slide from '@/components/core/Slide';
import {
  Box,
  Typography,
  Grid,
  Paper,
  useTheme,
  Card,
  CardContent,
  CardHeader,
  Divider,
  List,
  ListItem,
  ListItemIcon,
  ListItemText
} from '@mui/material';
import CheckIcon from '@mui/icons-material/Check';
import MonetizationOnIcon from '@mui/icons-material/MonetizationOn';
import BusinessIcon from '@mui/icons-material/Business';
import SettingsIcon from '@mui/icons-material/Settings';
import AutorenewIcon from '@mui/icons-material/Autorenew';
import LocalShippingIcon from '@mui/icons-material/LocalShipping';
import MilitaryTechIcon from '@mui/icons-material/MilitaryTech';
import FlagIcon from '@mui/icons-material/Flag';
import PrecisionManufacturingIcon from '@mui/icons-material/PrecisionManufacturing';

// Motion components
const MotionBox = motion(Box);
const MotionPaper = motion(Paper);
const MotionCard = motion(Card);

// Animation variants
const containerVariants = {
  hidden: { opacity: 0 },
  visible: {
    opacity: 1,
    transition: {
      staggerChildren: 0.1
    }
  }
};

const itemVariants = {
  hidden: { opacity: 0, y: 20 },
  visible: {
    opacity: 1,
    y: 0,
    transition: {
      duration: 0.5,
      ease: "easeOut"
    }
  }
};

const BusinessModel: React.FC = () => {
  const theme = useTheme();
  
  return (
    <Slide title="Business Model">
      <MotionBox
        variants={containerVariants}
        initial="hidden"
        animate="visible"
        sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}
      >
        {/* Revenue Streams */}
        <Box sx={{ mb: 4 }}>
          <Typography variant="h3" sx={{
            fontSize: '1.25rem',
            fontWeight: 600,
            color: theme.palette.text.primary,
            mb: 1,
            fontFamily: "'IBM Plex Mono', monospace",
            textTransform: 'uppercase',
            letterSpacing: '1px'
          }}>
            PRICING STRATEGY_
          </Typography>
          
          <Typography sx={{
            fontSize: '0.875rem',
            color: theme.palette.text.secondary,
            mb: 3,
            fontFamily: "'IBM Plex Mono', monospace"
          }}>
            Subscription-based model with tiered pricing for different markets
          </Typography>
          
          <Grid container spacing={3}>
            {/* Defense Tier */}
            <Grid item xs={12} md={4}>
              <MotionCard
                variants={itemVariants}
                sx={{
                  height: '100%',
                  borderRadius: 1,
                  border: `1px solid ${theme.palette.divider}`,
                  boxShadow: theme.shadows[2],
                  transition: 'transform 0.2s, box-shadow 0.2s',
                  '&:hover': {
                    transform: 'translateY(-4px)',
                    boxShadow: theme.shadows[4]
                  }
                }}
              >
                <CardHeader
                  title="Defense"
                  titleTypographyProps={{
                    variant: 'h6',
                    fontFamily: "'IBM Plex Mono', monospace",
                    fontWeight: 600,
                    color: theme.palette.text.primary
                  }}
                  avatar={
                    <MilitaryTechIcon color="primary" />
                  }
                  sx={{
                    bgcolor: 'rgba(25, 118, 210, 0.08)',
                    borderBottom: `1px solid ${theme.palette.divider}`
                  }}
                />
                <CardContent>
                  <Box sx={{ mb: 2 }}>
                    <Typography variant="h5" align="center" sx={{ fontWeight: 700, mb: 1 }}>
                      $250K - $1M
                    </Typography>
                    <Typography variant="subtitle2" align="center" color="text.secondary" gutterBottom>
                      Annual license per deployment
                    </Typography>
                    <Typography variant="body2" align="center" color="text.secondary">
                      Based on scale and customization
                    </Typography>
                  </Box>
                  
                  <Divider sx={{ my: 2 }} />
                  
                  <List dense>
                    <ListItem>
                      <ListItemIcon>
                        <CheckIcon color="primary" fontSize="small" />
                      </ListItemIcon>
                      <ListItemText 
                        primary="Enterprise-grade deployment" 
                        secondary="Full security compliance"
                      />
                    </ListItem>
                    <ListItem>
                      <ListItemIcon>
                        <CheckIcon color="primary" fontSize="small" />
                      </ListItemIcon>
                      <ListItemText 
                        primary="Custom integrations" 
                        secondary="Works with existing systems"
                      />
                    </ListItem>
                    <ListItem>
                      <ListItemIcon>
                        <CheckIcon color="primary" fontSize="small" />
                      </ListItemIcon>
                      <ListItemText 
                        primary="Dedicated support team" 
                        secondary="24/7 mission-critical support"
                      />
                    </ListItem>
                  </List>
                </CardContent>
              </MotionCard>
            </Grid>
            
            {/* Enterprise Tier */}
            <Grid item xs={12} md={4}>
              <MotionCard
                variants={itemVariants}
                sx={{
                  height: '100%',
                  borderRadius: 1,
                  border: `1px solid ${theme.palette.divider}`,
                  boxShadow: theme.shadows[2],
                  transition: 'transform 0.2s, box-shadow 0.2s',
                  '&:hover': {
                    transform: 'translateY(-4px)',
                    boxShadow: theme.shadows[4]
                  }
                }}
              >
                <CardHeader
                  title="Commercial Enterprise"
                  titleTypographyProps={{
                    variant: 'h6',
                    fontFamily: "'IBM Plex Mono', monospace",
                    fontWeight: 600,
                    color: theme.palette.text.primary
                  }}
                  avatar={
                    <BusinessIcon color="secondary" />
                  }
                  sx={{
                    bgcolor: 'rgba(156, 39, 176, 0.08)',
                    borderBottom: `1px solid ${theme.palette.divider}`
                  }}
                />
                <CardContent>
                  <Box sx={{ mb: 2 }}>
                    <Typography variant="h5" align="center" sx={{ fontWeight: 700, mb: 1 }}>
                      $75K - $150K
                    </Typography>
                    <Typography variant="subtitle2" align="center" color="text.secondary" gutterBottom>
                      Annual license
                    </Typography>
                    <Typography variant="body2" align="center" color="text.secondary">
                      Per business unit/facility
                    </Typography>
                  </Box>
                  
                  <Divider sx={{ my: 2 }} />
                  
                  <List dense>
                    <ListItem>
                      <ListItemIcon>
                        <CheckIcon color="secondary" fontSize="small" />
                      </ListItemIcon>
                      <ListItemText 
                        primary="Full platform capabilities" 
                        secondary="Customizable dashboard"
                      />
                    </ListItem>
                    <ListItem>
                      <ListItemIcon>
                        <CheckIcon color="secondary" fontSize="small" />
                      </ListItemIcon>
                      <ListItemText 
                        primary="ERP integration suite" 
                        secondary="Works with existing systems"
                      />
                    </ListItem>
                    <ListItem>
                      <ListItemIcon>
                        <CheckIcon color="secondary" fontSize="small" />
                      </ListItemIcon>
                      <ListItemText 
                        primary="Priority support" 
                        secondary="Business hours + emergency support"
                      />
                    </ListItem>
                  </List>
                </CardContent>
              </MotionCard>
            </Grid>
            
            {/* Platform Services */}
            <Grid item xs={12} md={4}>
              <MotionCard
                variants={itemVariants}
                sx={{
                  height: '100%',
                  borderRadius: 1,
                  border: `1px solid ${theme.palette.divider}`,
                  boxShadow: theme.shadows[2],
                  transition: 'transform 0.2s, box-shadow 0.2s',
                  '&:hover': {
                    transform: 'translateY(-4px)',
                    boxShadow: theme.shadows[4]
                  }
                }}
              >
                <CardHeader
                  title="Additional Services"
                  titleTypographyProps={{
                    variant: 'h6',
                    fontFamily: "'IBM Plex Mono', monospace",
                    fontWeight: 600,
                    color: theme.palette.text.primary
                  }}
                  avatar={
                    <SettingsIcon sx={{ color: theme.palette.info.main }} />
                  }
                  sx={{
                    bgcolor: 'rgba(3, 169, 244, 0.08)',
                    borderBottom: `1px solid ${theme.palette.divider}`
                  }}
                />
                <CardContent>
                  <Box sx={{ mb: 2 }}>
                    <Typography variant="h5" align="center" sx={{ fontWeight: 700, mb: 1 }}>
                      $25K - $150K
                    </Typography>
                    <Typography variant="subtitle2" align="center" color="text.secondary" gutterBottom>
                      Additional service fees
                    </Typography>
                    <Typography variant="body2" align="center" color="text.secondary">
                      Implementation & consulting services
                    </Typography>
                  </Box>
                  
                  <Divider sx={{ my: 2 }} />
                  
                  <List dense>
                    <ListItem>
                      <ListItemIcon>
                        <CheckIcon sx={{ color: theme.palette.info.main }} fontSize="small" />
                      </ListItemIcon>
                      <ListItemText 
                        primary="Implementation services" 
                        secondary="Customized onboarding"
                      />
                    </ListItem>
                    <ListItem>
                      <ListItemIcon>
                        <CheckIcon sx={{ color: theme.palette.info.main }} fontSize="small" />
                      </ListItemIcon>
                      <ListItemText 
                        primary="Custom development" 
                        secondary="Specialized integrations"
                      />
                    </ListItem>
                    <ListItem>
                      <ListItemIcon>
                        <CheckIcon sx={{ color: theme.palette.info.main }} fontSize="small" />
                      </ListItemIcon>
                      <ListItemText 
                        primary="Training & certification" 
                        secondary="User and admin training"
                      />
                    </ListItem>
                  </List>
                </CardContent>
              </MotionCard>
            </Grid>
          </Grid>
        </Box>
        
        {/* Target Markets & Unit Economics */}
        <Grid container spacing={4}>
          {/* Target Markets */}
          <Grid item xs={12} md={6}>
            <MotionPaper
              variants={itemVariants}
              sx={{
                p: 3,
                height: '100%',
                borderRadius: 1,
                border: `1px solid ${theme.palette.divider}`,
                boxShadow: theme.shadows[2]
              }}
            >
              <Typography variant="h3" sx={{
                fontSize: '1.25rem',
                fontWeight: 600,
                color: theme.palette.text.primary,
                mb: 1,
                fontFamily: "'IBM Plex Mono', monospace",
                textTransform: 'uppercase',
                letterSpacing: '1px'
              }}>
                TARGET MARKETS_
              </Typography>
              
              <Typography sx={{
                fontSize: '0.875rem',
                color: theme.palette.text.secondary,
                mb: 3,
                fontFamily: "'IBM Plex Mono', monospace"
              }}>
                Initial market focus prioritizing high-value inventory environments
              </Typography>
              
              <Grid container spacing={2}>
                {/* Defense Market */}
                <Grid item xs={6}>
                  <Card sx={{ 
                    height: '100%',
                    transition: 'transform 0.2s',
                    '&:hover': {
                      transform: 'translateY(-4px)',
                      boxShadow: theme.shadows[4]
                    }
                  }}>
                    <CardContent>
                      <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>
                        <FlagIcon color="primary" fontSize="small" sx={{ mr: 1 }} />
                        <Typography variant="subtitle1" sx={{ fontWeight: 600 }}>
                          Defense
                        </Typography>
                      </Box>
                      <Typography variant="body2" color="text.secondary">
                        Military logistics units, defense contractors, and base operations
                      </Typography>
                    </CardContent>
                  </Card>
                </Grid>
                
                {/* Manufacturing Market */}
                <Grid item xs={6}>
                  <Card sx={{ 
                    height: '100%',
                    transition: 'transform 0.2s',
                    '&:hover': {
                      transform: 'translateY(-4px)',
                      boxShadow: theme.shadows[4]
                    }
                  }}>
                    <CardContent>
                      <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>
                        <PrecisionManufacturingIcon color="secondary" fontSize="small" sx={{ mr: 1 }} />
                        <Typography variant="subtitle1" sx={{ fontWeight: 600 }}>
                          Manufacturing
                        </Typography>
                      </Box>
                      <Typography variant="body2" color="text.secondary">
                        Precision manufacturing, electronics, aerospace parts production
                      </Typography>
                    </CardContent>
                  </Card>
                </Grid>
                
                {/* Logistics Market */}
                <Grid item xs={6}>
                  <Card sx={{ 
                    height: '100%',
                    transition: 'transform 0.2s',
                    '&:hover': {
                      transform: 'translateY(-4px)',
                      boxShadow: theme.shadows[4]
                    }
                  }}>
                    <CardContent>
                      <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>
                        <LocalShippingIcon sx={{ color: theme.palette.info.main, mr: 1 }} fontSize="small" />
                        <Typography variant="subtitle1" sx={{ fontWeight: 600 }}>
                          Logistics
                        </Typography>
                      </Box>
                      <Typography variant="body2" color="text.secondary">
                        3PL providers, warehousing operations, distribution centers
                      </Typography>
                    </CardContent>
                  </Card>
                </Grid>
                
                {/* Maintenance Market */}
                <Grid item xs={6}>
                  <Card sx={{ 
                    height: '100%',
                    transition: 'transform 0.2s',
                    '&:hover': {
                      transform: 'translateY(-4px)',
                      boxShadow: theme.shadows[4]
                    }
                  }}>
                    <CardContent>
                      <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>
                        <AutorenewIcon sx={{ color: theme.palette.warning.main, mr: 1 }} fontSize="small" />
                        <Typography variant="subtitle1" sx={{ fontWeight: 600 }}>
                          Maintenance
                        </Typography>
                      </Box>
                      <Typography variant="body2" color="text.secondary">
                        Aviation MRO, industrial equipment maintenance, facility management
                      </Typography>
                    </CardContent>
                  </Card>
                </Grid>
              </Grid>
            </MotionPaper>
          </Grid>
          
          {/* Unit Economics */}
          <Grid item xs={12} md={6}>
            <MotionPaper
              variants={itemVariants}
              sx={{
                p: 3,
                height: '100%',
                borderRadius: 1,
                border: `1px solid ${theme.palette.divider}`,
                boxShadow: theme.shadows[2]
              }}
            >
              <Typography variant="h3" sx={{
                fontSize: '1.25rem',
                fontWeight: 600,
                color: theme.palette.text.primary,
                mb: 1,
                fontFamily: "'IBM Plex Mono', monospace",
                textTransform: 'uppercase',
                letterSpacing: '1px'
              }}>
                UNIT ECONOMICS_
              </Typography>
              
              <Typography sx={{
                fontSize: '0.875rem',
                color: theme.palette.text.secondary,
                mb: 3,
                fontFamily: "'IBM Plex Mono', monospace"
              }}>
                Favorable economics driven by software margins and recurring revenue
              </Typography>
              
              {/* CAC and LTV */}
              <Box sx={{ mb: 3 }}>
                <Grid container spacing={3}>
                  <Grid item xs={6}>
                    <Card sx={{ 
                      height: '100%',
                      borderLeft: `4px solid ${theme.palette.primary.main}`,
                      boxShadow: theme.shadows[2]
                    }}>
                      <CardContent>
                        <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>
                          <MonetizationOnIcon color="primary" fontSize="small" sx={{ mr: 1 }} />
                          <Typography variant="subtitle2" sx={{ fontFamily: "'IBM Plex Mono', monospace" }}>
                            CUSTOMER ACQUISITION
                          </Typography>
                        </Box>
                        <Typography variant="h5" sx={{ fontWeight: 700, mt: 1 }}>
                          $50K - $75K
                        </Typography>
                        <Typography variant="body2" color="text.secondary">
                          CAC for defense & enterprise
                        </Typography>
                      </CardContent>
                    </Card>
                  </Grid>
                  <Grid item xs={6}>
                    <Card sx={{ 
                      height: '100%', 
                      borderLeft: `4px solid ${theme.palette.secondary.main}`,
                      boxShadow: theme.shadows[2]
                    }}>
                      <CardContent>
                        <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>
                          <MonetizationOnIcon color="secondary" fontSize="small" sx={{ mr: 1 }} />
                          <Typography variant="subtitle2" sx={{ fontFamily: "'IBM Plex Mono', monospace" }}>
                            CUSTOMER LIFETIME VALUE
                          </Typography>
                        </Box>
                        <Typography variant="h5" sx={{ fontWeight: 700, mt: 1 }}>
                          $750K - $3M
                        </Typography>
                        <Typography variant="body2" color="text.secondary">
                          5-year contract value
                        </Typography>
                      </CardContent>
                    </Card>
                  </Grid>
                </Grid>
              </Box>
              
              {/* Other metrics */}
              <Box>
                <Grid container spacing={2}>
                  <Grid item xs={6}>
                    <Paper elevation={0} sx={{ 
                      p: 2, 
                      bgcolor: 'rgba(0,0,0,0.02)',
                      border: `1px solid ${theme.palette.divider}`,
                      borderRadius: 1
                    }}>
                      <Typography variant="subtitle2" sx={{ 
                        fontFamily: "'IBM Plex Mono', monospace",
                        color: theme.palette.text.secondary,
                        mb: 1
                      }}>
                        GROSS MARGIN
                      </Typography>
                      <Typography variant="h5" sx={{ fontWeight: 700, color: theme.palette.primary.main }}>
                        85%
                      </Typography>
                      <Typography variant="body2" color="text.secondary">
                        Software revenue
                      </Typography>
                    </Paper>
                  </Grid>
                  <Grid item xs={6}>
                    <Paper elevation={0} sx={{ 
                      p: 2, 
                      bgcolor: 'rgba(0,0,0,0.02)',
                      border: `1px solid ${theme.palette.divider}`,
                      borderRadius: 1
                    }}>
                      <Typography variant="subtitle2" sx={{ 
                        fontFamily: "'IBM Plex Mono', monospace",
                        color: theme.palette.text.secondary,
                        mb: 1
                      }}>
                        SERVICES MARGIN
                      </Typography>
                      <Typography variant="h5" sx={{ fontWeight: 700, color: theme.palette.secondary.main }}>
                        65%
                      </Typography>
                      <Typography variant="body2" color="text.secondary">
                        Implementation & consulting
                      </Typography>
                    </Paper>
                  </Grid>
                  <Grid item xs={6}>
                    <Paper elevation={0} sx={{ 
                      p: 2, 
                      bgcolor: 'rgba(0,0,0,0.02)',
                      border: `1px solid ${theme.palette.divider}`,
                      borderRadius: 1
                    }}>
                      <Typography variant="subtitle2" sx={{ 
                        fontFamily: "'IBM Plex Mono', monospace",
                        color: theme.palette.text.secondary,
                        mb: 1
                      }}>
                        LTV:CAC RATIO
                      </Typography>
                      <Typography variant="h5" sx={{ fontWeight: 700, color: theme.palette.info.main }}>
                        10:1
                      </Typography>
                      <Typography variant="body2" color="text.secondary">
                        Target ratio at scale
                      </Typography>
                    </Paper>
                  </Grid>
                  <Grid item xs={6}>
                    <Paper elevation={0} sx={{ 
                      p: 2, 
                      bgcolor: 'rgba(0,0,0,0.02)',
                      border: `1px solid ${theme.palette.divider}`,
                      borderRadius: 1
                    }}>
                      <Typography variant="subtitle2" sx={{ 
                        fontFamily: "'IBM Plex Mono', monospace",
                        color: theme.palette.text.secondary,
                        mb: 1
                      }}>
                        NET RETENTION
                      </Typography>
                      <Typography variant="h5" sx={{ fontWeight: 700, color: theme.palette.warning.main }}>
                        120%
                      </Typography>
                      <Typography variant="body2" color="text.secondary">
                        Projected annual retention
                      </Typography>
                    </Paper>
                  </Grid>
                </Grid>
              </Box>
            </MotionPaper>
          </Grid>
        </Grid>
      </MotionBox>
    </Slide>
  );
};

export default BusinessModel;
