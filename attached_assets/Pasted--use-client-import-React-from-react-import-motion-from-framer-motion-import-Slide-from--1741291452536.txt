'use client';

import React from 'react';
import { motion } from 'framer-motion';
import Slide from '@/components/core/Slide';
import { 
  Box, 
  Grid, 
  Paper, 
  Typography, 
  List, 
  ListItem, 
  ListItemIcon, 
  ListItemText,
  useTheme
} from '@mui/material';

// Motion components
const MotionBox = motion(Box);
const MotionPaper = motion(Paper);
const MotionListItem = motion(ListItem);

// Animation variants
const containerVariants = {
  hidden: { opacity: 0 },
  visible: {
    opacity: 1,
    transition: {
      staggerChildren: 0.15,
      delayChildren: 0.3
    }
  }
};

const sectionVariants = {
  hidden: { y: 20, opacity: 0 },
  visible: {
    y: 0,
    opacity: 1,
    transition: {
      duration: 0.6,
      ease: "easeOut"
    }
  }
};

const itemVariants = {
  hidden: { x: -15, opacity: 0 },
  visible: {
    x: 0,
    opacity: 1,
    transition: {
      duration: 0.5,
      ease: "easeOut"
    }
  }
};

const SupplyChainChallenges: React.FC = () => {
  const theme = useTheme();

  return (
    <Slide title="Supply Chain Challenges" subtitle="Current pain points in military and commercial sectors">
      <MotionBox
        variants={containerVariants}
        initial="hidden"
        animate="visible"
        sx={{ height: '100%' }}
      >
        <Grid container spacing={3} sx={{ height: '100%' }}>
          {/* Military Challenges Section */}
          <Grid item xs={12} md={6}>
            <MotionPaper
              variants={sectionVariants}
              sx={{
                p: 3,
                display: 'flex',
                flexDirection: 'column',
                position: 'relative',
                overflow: 'hidden',
                height: '100%',
                backgroundColor: theme => theme.customColors.militaryBg,
                border: theme => `1px solid ${theme.customColors.militaryAccent}`,
                boxShadow: 3
              }}
            >
              <Box sx={{
                display: 'flex',
                alignItems: 'center',
                gap: 1,
                mb: 2
              }}>
                <Box sx={{
                  bgcolor: theme => theme.customColors.militaryAccent,
                  color: 'white',
                  px: 1.5,
                  py: 0.5,
                  borderRadius: 0.5,
                  fontFamily: '"IBM Plex Mono", monospace',
                  fontWeight: 'bold',
                  fontSize: '0.75rem'
                }}>
                  MILITARY
                </Box>
                <Typography variant="h6" fontWeight="bold">
                  Defense Supply Verification Issues
                </Typography>
              </Box>

              <List disablePadding>
                <MotionListItem variants={itemVariants} disableGutters sx={{ mb: 2 }}>
                  <ListItemIcon sx={{ minWidth: 36, color: theme.customColors.militaryAccent }}>
                    <Typography variant="h6" fontWeight="bold">1</Typography>
                  </ListItemIcon>
                  <ListItemText
                    primary="Paper-Based Accountability"
                    secondary="Hand receipts and equipment tracking still rely on physical paperwork that is prone to loss, damage, and tampering."
                    primaryTypographyProps={{
                      fontWeight: 'bold',
                      color: theme.customColors.militaryAccent,
                      fontFamily: '"IBM Plex Mono", monospace',
                      fontSize: '0.875rem'
                    }}
                    secondaryTypographyProps={{
                      color: 'text.secondary',
                      fontFamily: '"IBM Plex Sans", sans-serif',
                      fontSize: '0.85rem'
                    }}
                  />
                </MotionListItem>

                <MotionListItem variants={itemVariants} disableGutters sx={{ mb: 2 }}>
                  <ListItemIcon sx={{ minWidth: 36, color: theme.customColors.militaryAccent }}>
                    <Typography variant="h6" fontWeight="bold">2</Typography>
                  </ListItemIcon>
                  <ListItemText
                    primary="Verification Gaps"
                    secondary="Limited ability to verify equipment origin, maintenance history, and transfer of responsibility between units."
                    primaryTypographyProps={{
                      fontWeight: 'bold',
                      color: theme.customColors.militaryAccent,
                      fontFamily: '"IBM Plex Mono", monospace',
                      fontSize: '0.875rem'
                    }}
                    secondaryTypographyProps={{
                      color: 'text.secondary',
                      fontFamily: '"IBM Plex Sans", sans-serif',
                      fontSize: '0.85rem'
                    }}
                  />
                </MotionListItem>

                <MotionListItem variants={itemVariants} disableGutters sx={{ mb: 2 }}>
                  <ListItemIcon sx={{ minWidth: 36, color: theme.customColors.militaryAccent }}>
                    <Typography variant="h6" fontWeight="bold">3</Typography>
                  </ListItemIcon>
                  <ListItemText
                    primary="Antiquated Systems"
                    secondary="Legacy database systems lack interoperability, creating information silos and redundancy across units."
                    primaryTypographyProps={{
                      fontWeight: 'bold',
                      color: theme.customColors.militaryAccent,
                      fontFamily: '"IBM Plex Mono", monospace',
                      fontSize: '0.875rem'
                    }}
                    secondaryTypographyProps={{
                      color: 'text.secondary',
                      fontFamily: '"IBM Plex Sans", sans-serif',
                      fontSize: '0.85rem'
                    }}
                  />
                </MotionListItem>

                <MotionListItem variants={itemVariants} disableGutters>
                  <ListItemIcon sx={{ minWidth: 36, color: theme.customColors.militaryAccent }}>
                    <Typography variant="h6" fontWeight="bold">4</Typography>
                  </ListItemIcon>
                  <ListItemText
                    primary="Auditing Complexity"
                    secondary="Time-intensive property accountability inspections with limited transparency for higher command visibility."
                    primaryTypographyProps={{
                      fontWeight: 'bold',
                      color: theme.customColors.militaryAccent,
                      fontFamily: '"IBM Plex Mono", monospace',
                      fontSize: '0.875rem'
                    }}
                    secondaryTypographyProps={{
                      color: 'text.secondary',
                      fontFamily: '"IBM Plex Sans", sans-serif',
                      fontSize: '0.85rem'
                    }}
                  />
                </MotionListItem>
              </List>

              <Box sx={{
                mt: 'auto', 
                pt: 2,
                borderTop: theme => `1px dashed ${theme.palette.divider}`,
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'space-between'
              }}>
                <Typography variant="subtitle2" fontFamily="'IBM Plex Mono', monospace" fontSize="0.75rem" color="text.secondary">
                  ANNUAL INVENTORY LOSS
                </Typography>
                <Typography variant="h6" color={theme.customColors.militaryAccent} fontWeight="bold">
                  $1.2B+
                </Typography>
              </Box>
            </MotionPaper>
          </Grid>

          {/* Commercial Challenges Section */}
          <Grid item xs={12} md={6}>
            <MotionPaper
              variants={sectionVariants}
              sx={{
                p: 3,
                display: 'flex',
                flexDirection: 'column',
                position: 'relative',
                overflow: 'hidden',
                height: '100%',
                backgroundColor: theme => theme.customColors.commercialBg,
                border: theme => `1px solid ${theme.customColors.commercialAccent}`,
                boxShadow: 3
              }}
            >
              <Box sx={{
                display: 'flex',
                alignItems: 'center',
                gap: 1,
                mb: 2
              }}>
                <Box sx={{
                  bgcolor: theme => theme.customColors.commercialAccent,
                  color: 'white',
                  px: 1.5,
                  py: 0.5,
                  borderRadius: 0.5,
                  fontFamily: '"IBM Plex Mono", monospace',
                  fontWeight: 'bold',
                  fontSize: '0.75rem'
                }}>
                  COMMERCIAL
                </Box>
                <Typography variant="h6" fontWeight="bold">
                  Business Supply Chain Inefficiencies
                </Typography>
              </Box>

              <List disablePadding>
                <MotionListItem variants={itemVariants} disableGutters sx={{ mb: 2 }}>
                  <ListItemIcon sx={{ minWidth: 36, color: theme.customColors.commercialAccent }}>
                    <Typography variant="h6" fontWeight="bold">1</Typography>
                  </ListItemIcon>
                  <ListItemText
                    primary="Counterfeiting & Fraud"
                    secondary="Counterfeit products and unauthorized distribution channels create significant financial and reputational damage."
                    primaryTypographyProps={{
                      fontWeight: 'bold',
                      color: theme.customColors.commercialAccent,
                      fontFamily: '"IBM Plex Mono", monospace',
                      fontSize: '0.875rem'
                    }}
                    secondaryTypographyProps={{
                      color: 'text.secondary',
                      fontFamily: '"IBM Plex Sans", sans-serif',
                      fontSize: '0.85rem'
                    }}
                  />
                </MotionListItem>

                <MotionListItem variants={itemVariants} disableGutters sx={{ mb: 2 }}>
                  <ListItemIcon sx={{ minWidth: 36, color: theme.customColors.commercialAccent }}>
                    <Typography variant="h6" fontWeight="bold">2</Typography>
                  </ListItemIcon>
                  <ListItemText
                    primary="Lack of Transparency"
                    secondary="Limited visibility into supply chain origins and handling, particularly for multi-tier supplier networks."
                    primaryTypographyProps={{
                      fontWeight: 'bold',
                      color: theme.customColors.commercialAccent,
                      fontFamily: '"IBM Plex Mono", monospace',
                      fontSize: '0.875rem'
                    }}
                    secondaryTypographyProps={{
                      color: 'text.secondary',
                      fontFamily: '"IBM Plex Sans", sans-serif',
                      fontSize: '0.85rem'
                    }}
                  />
                </MotionListItem>

                <MotionListItem variants={itemVariants} disableGutters sx={{ mb: 2 }}>
                  <ListItemIcon sx={{ minWidth: 36, color: theme.customColors.commercialAccent }}>
                    <Typography variant="h6" fontWeight="bold">3</Typography>
                  </ListItemIcon>
                  <ListItemText
                    primary="Compliance Challenges"
                    secondary="Difficulty proving regulatory compliance and ethical sourcing across complex global supply chains."
                    primaryTypographyProps={{
                      fontWeight: 'bold',
                      color: theme.customColors.commercialAccent,
                      fontFamily: '"IBM Plex Mono", monospace',
                      fontSize: '0.875rem'
                    }}
                    secondaryTypographyProps={{
                      color: 'text.secondary',
                      fontFamily: '"IBM Plex Sans", sans-serif',
                      fontSize: '0.85rem'
                    }}
                  />
                </MotionListItem>

                <MotionListItem variants={itemVariants} disableGutters>
                  <ListItemIcon sx={{ minWidth: 36, color: theme.customColors.commercialAccent }}>
                    <Typography variant="h6" fontWeight="bold">4</Typography>
                  </ListItemIcon>
                  <ListItemText
                    primary="Inventory Accountability"
                    secondary="Difficult to trace product lifecycle from raw materials to end-user, leading to costly recalls and disputes."
                    primaryTypographyProps={{
                      fontWeight: 'bold',
                      color: theme.customColors.commercialAccent,
                      fontFamily: '"IBM Plex Mono", monospace',
                      fontSize: '0.875rem'
                    }}
                    secondaryTypographyProps={{
                      color: 'text.secondary',
                      fontFamily: '"IBM Plex Sans", sans-serif',
                      fontSize: '0.85rem'
                    }}
                  />
                </MotionListItem>
              </List>

              <Box sx={{
                mt: 'auto', 
                pt: 2,
                borderTop: theme => `1px dashed ${theme.palette.divider}`,
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'space-between'
              }}>
                <Typography variant="subtitle2" fontFamily="'IBM Plex Mono', monospace" fontSize="0.75rem" color="text.secondary">
                  ESTIMATED GLOBAL IMPACT
                </Typography>
                <Typography variant="h6" color={theme.customColors.commercialAccent} fontWeight="bold">
                  $500B+
                </Typography>
              </Box>
            </MotionPaper>
          </Grid>
        </Grid>
      </MotionBox>
    </Slide>
  );
};

export default SupplyChainChallenges;
